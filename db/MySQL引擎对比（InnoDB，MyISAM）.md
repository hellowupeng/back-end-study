# MySQL引擎对比（InnoDB，MyISAM）

## ISAM

索引顺序存取方法（ISAM，Indexd Sequential Access Method）最初是由IBM发展起来的一个文件系统，可以连续地（按照它们进入的顺序）或者任意地（根据索引）记录任何访问。每个索引定义了一次不同排列的记录。现在这个概念通常指数据库的索引，这种索引被大多数数据库所使用（包括关系数据库以及其他）。

## MyISAM

MyISAM是MySQL 5.5版之前的默认数据引擎，由早期的ISAM所改良。性能非常好，但有一个缺点：不支持事务处理（transaction）。

每个MyISAM数据表，皆由存储在硬盘上的三个文件所组成，每个文件都以数据表名称为文件主名，并搭配不同扩展名区分文件类型：

1) `.frm` 存储数据表定义，此文件非MyISAM引擎的一部分。

2）`.MYD` 存放真正的数据。

3）`.MYI` 存放索引信息。

## InnoDB

InnoDB是MySQL的数据库引擎之一，与传统的ISAM和MyISAM相比，InnoDB最大的特色就是支持了ACID兼容的事务（transaction）功能。

## MyISAM与InnoDB比较

1. InnoDB可以使用事务日志（Transaction Log）来恢复程序崩溃（crash），或非预期结束所造成的数据错误；而MyISAM遇到错误，必须完整扫描后才能重建索引，或修正未写入磁盘的错误。InnoDB的修复时间大致是固定的，但MyISAM的修复时间，则与数据量的多少成正比。相对而言，随着数据量的增加，InnoDB会有较好的稳定性。
2. MyISAM必须依靠操作系统来管理读取与写入的缓存，而InnoDB则有自己的读写缓存管理机制。InnoDB不会将修改的数据页立即交给操作系统，因而在某些情况下，InnoDB的数据访问会比MyISAM更有效率。
3. InnoDB目前并不支持MyISAM所提供的压缩与trf格式（terse row formats），所以对硬盘和高速缓存的使用量较大。MySQL从5.0版本开始，提供了另一个负载较轻的格式，它可减少约20%的系统负载。
4. 当操作完全兼容ACID（事务）时，虽然InnoDB会自动合并多个连接，但每次有事务产生时，任至少需要写入磁盘一次，因此对于某些磁盘或磁盘阵列，会造成每秒200次的事务处理上限。若希望达到更高的性能且保持事务的完整性，就必须使用磁盘缓存和**电池备援**。当然InnoDB也提供了数种对性能冲击较低的模式，但相对的也会降低事务的完整性。而MyISAM则无此问题，因为它不支持事务。
